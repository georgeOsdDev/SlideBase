// Generated by CoffeeScript 1.3.3
/*
slideBaseClient-plugin-gaya.js
------------------------------------------------
author:  [Takeharu Oshida](http://about.me/takeharu.oshida)
version: 0.1
licence: [MIT](http://opensource.org/licenses/mit-license.php)
*/(function(){sbClient.plugins.gaya=new sbClient.Model.Plugin({name:"gaya",element:"<div id='#gaya' class='pluginOption'>\n  <span>Comment</span><br>\n  <input type='text' name='gaya'></input>\n  <input class='btn' name='submitGaya' type='button' value='gaya'/><br>\n  <label class='radio'>\n    <input type=\"radio\" name='gayaStyle' id='gayaStyle1' value='niconico' checked> niconico\n  </label>\n  <label class='radio'>\n    <input type='radio' name='gayaStyle' id='gayaStyle2' value='growl'> growl\n  </label>\n</div>",initialScript:function(){var e;return console.log("gaya plugin is ready"),sbClient.gayaList={},e=this,$('[name="submitGaya"]').click(function(){var e,t;t=$('[name="gaya"]').val();if(t.length<1)return;return sbClient.execEmit("gaya",t),e=sbClient.plugins.gaya.get("callback"),e(t),!1})},callback:function(e){var t,n,r,i,s,o,u,a;console.log("gaya plugin was called: "+e),a=$('[name="gayaStyle"]:checked').val(),s="0123456789ABCDEF".split(""),t=function(){var e;return e=["#",s[Math.floor(Math.random()*s.length)],s[Math.floor(Math.random()*s.length)],s[Math.floor(Math.random()*s.length)],s[Math.floor(Math.random()*s.length)],s[Math.floor(Math.random()*s.length)],s[Math.floor(Math.random()*s.length)]],e.join("")},console.log(t()),n={},a==="niconico"&&(n={color:t(),left:$(window).width(),top:Math.floor(Math.random()*$(window).height()*.9),position:"absolute",width:"100%"}),a==="growl"&&(n={color:"white",right:Math.floor(Math.random()*40)+40,top:$(window).height()-(Math.floor(Math.random()*50)+50),position:"absolute","text-align":"right","background-color":"#333",opacity:.8,"border-radius":"3px"}),r=document.createElement("div"),$(r).text(e).css(n).addClass("gayaMsg"),o=function(){var e,t;return t=function(){return $(r).remove()},setTimeout(t,7e3),e=function(){var e;return e=$(r).offset(),e.left-=20,$(r).offset(e)},setInterval(e,75)},i=function(){var e;return e=function(){return $(r).remove()},setTimeout(e,3e3)},$("body").append(r);switch(a){case"niconico":o();break;case"growl":i();break;default:return}return u=function(e){var t,n,r;return n=function(e){return e<10?"0"+e:e},t=new Date,r=[t.getFullYear(),"-",n(t.getMonth()+1),"-",n(t.getDate())," ",n(t.getHours()),":",n(t.getMinutes()),":",n(t.getSeconds())].join(""),sbClient.gayaList.now=e},u()}})}).call(this);